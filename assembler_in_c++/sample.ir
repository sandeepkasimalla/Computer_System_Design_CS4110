@onescount
M=0
@zeroscount
M=0
@R0
D=M
@curr
M=D
@i
M=0
@i
D=M
@R1
D=D-M
@LOOPEND1
D;JGE
@curr
A=M
D=M
@ZERO
D;JEQ
@onescount
M=M+1
@ENDIF
0;JMP
@zeroscount
M=M+1
@curr
M=M+1
@i
M=M+1
@LOOPSTART1
0;JMP
@R0
D=M
@curr
M=D
@i
M=0
@i
D=M
@zeroscount
D=D-M
@LOOPEND2
D;JGE
@curr
A=M
M=0
@curr
M=M+1
@i
M=M+1
@LOOPSTART2
0;JMP
@i
M=0
@i
D=M
@onescount
D=D-M
@LOOPEND3
D;JGE
@curr
A=M
M=1
@curr
M=M+1
@i
M=M+1
@LOOPSTART3
0;JMP
@LOOPEND3
0;JMP
